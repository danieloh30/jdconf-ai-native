# Azure OpenAI Configuration
quarkus.langchain4j.azure-openai.api-key=${AZURE_OPENAI_API_KEY}
quarkus.langchain4j.azure-openai.api-version=2024-10-21
quarkus.langchain4j.azure-openai.deployment-name=gpt-4o-mini
quarkus.langchain4j.azure-openai.resource-name=doh-quarkus-mcp

quarkus.langchain4j.log-requests=true
quarkus.langchain4j.log-responses=true
quarkus.langchain4j.timeout=PT60S

# Azure MCP Server Configuration
quarkus.langchain4j.mcp.azure-rg.transport-type=stdio
quarkus.langchain4j.mcp.azure-rg.command=npx,-y,-p,@azure/mcp@latest,azmcp,server,start,--transport,stdio,--namespace,postgres,--outgoing-auth-strategy,UseHostingEnvironmentIdentity

# Pass environment variables to MCP server process
quarkus.langchain4j.mcp.azure-rg.environment.AZURE_SUBSCRIPTION_ID=${AZURE_SUBSCRIPTION_ID}
quarkus.langchain4j.mcp.azure-rg.environment.AZURE_RESOURCE_GROUP=${AZURE_RESOURCE_GROUP}
quarkus.langchain4j.mcp.azure-rg.environment.AZURE_POSTGRES_SERVER=${AZURE_POSTGRES_SERVER}
quarkus.langchain4j.mcp.azure-rg.environment.AZURE_POSTGRES_DATABASE=${AZURE_POSTGRES_DATABASE}
quarkus.langchain4j.mcp.azure-rg.environment.AZURE_POSTGRES_USER=${AZURE_POSTGRES_USER}
quarkus.langchain4j.mcp.azure-rg.environment.AZURE_POSTGRES_PASSWORD=${AZURE_POSTGRES_PASSWORD:}
quarkus.langchain4j.mcp.azure-rg.environment.AZURE_POSTGRES_AUTH_TYPE=${AZURE_POSTGRES_AUTH_TYPE:MicrosoftEntra}

# Azure PostgreSQL Default Configuration
# Set these values to avoid prompting users for connection details
azure.subscription-id=${AZURE_SUBSCRIPTION_ID}
azure.resource-group=${AZURE_RESOURCE_GROUP}
azure.postgres.server=${AZURE_POSTGRES_SERVER}
azure.postgres.database=${AZURE_POSTGRES_DATABASE}
azure.postgres.user=${AZURE_POSTGRES_USER}

# Pass Azure subscription to MCP server
quarkus.langchain4j.mcp.azure-rg.environment.AZURE_SUBSCRIPTION_ID=${azure.subscription-id}

# Enable detailed logging for MCP troubleshooting
quarkus.log.category."dev.langchain4j.mcp".level=DEBUG
quarkus.log.category."io.quarkiverse.langchain4j.mcp".level=DEBUG


